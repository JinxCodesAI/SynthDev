# SynthDev Commands Reference

This document provides comprehensive documentation for all available commands in SynthDev.

## Command Overview

SynthDev commands are accessed using the `/` prefix and provide powerful functionality for managing conversations, analyzing costs, and controlling the application.

## Core Commands

### `/help`

**Description**: Show available commands and usage information
**Usage**: `/help`
**Example**:

```
/help
```

### `/cost`

**Description**: Display detailed API usage costs and token consumption
**Usage**: `/cost`

The cost command provides comprehensive cost tracking including:

- **Token Usage**: Detailed breakdown by token type (prompt, completion, cached, reasoning)
- **Cost Calculation**: Real-time USD cost calculation based on current pricing
- **Per-Model Breakdown**: Separate tracking for each AI model used
- **Grand Total**: Total cost across all models in the session

**Example Output**:

```
💰 Accumulated API Costs & Usage:
════════════════════════════════════════════════════════════

🤖 gpt-4.1-mini:
  📊 Token Usage:
    • Prompt Tokens: 1,500
    • Completion Tokens: 800
    • Cached Tokens: 100
    • Total Tokens: 2,400
  💵 Cost Breakdown:
    • Input Cost: $0.000600
    • Output Cost: $0.001280
    • Cached Cost: $0.000010
    • Model Total: $0.001890

────────────────────────────────────────────────────────────
💰 Grand Total Cost: $0.001890
📈 Models Used: 1
```

**Features**:

- Costs accumulate throughout the session until application exit
- Pricing data automatically loaded from provider configurations
- Supports all token types including cached and reasoning tokens
- Real-time cost calculation in USD
- Warning displayed for models without pricing information

### `/review`

**Description**: Show raw content of last API request/response
**Usage**: `/review`

### `/clear`

**Description**: Clear conversation history
**Usage**: `/clear`

### `/snapshots`

**Description**: Manage conversation snapshots for backup and restore
**Usage**: `/snapshots`

### `/index`

**Description**: Index codebase with AI-powered summaries
**Usage**: `/index [options]`
**Options**:

- `--max-size <size>`: Maximum file size to index
- `--include-hidden`: Include hidden files

### `/roles`

**Description**: Show available AI roles and current role
**Usage**: `/roles`

### `/role <name>`

**Description**: Switch to a specific AI role
**Usage**: `/role <role_name>`
**Examples**:

```
/role coder
/role reviewer
/role architect
```

### `/cmd`

**Description**: Execute terminal commands with AI assistance
**Usage**: `/cmd <command>` or `/cmd ??? <description>`
**Examples**:

```
/cmd ls -la
/cmd ??? list all files including hidden ones
```

### `/configure`

**Description**: Interactive configuration wizard
**Usage**: `/configure`

### `/tools`

**Description**: List all available tools
**Usage**: `/tools`

### `/exit` / `/quit`

**Description**: Exit the application
**Usage**: `/exit` or `/quit`

## Cost Tracking Details

The `/cost` command provides advanced cost tracking capabilities:

### Pricing Data

- Automatically loads pricing from `src/config/defaults/providers.json`
- Supports multiple providers (OpenAI, Google, Anthropic, XAI, OpenRouter)
- Includes input, output, and cached token pricing

### Token Types

- **Prompt Tokens**: Input tokens sent to the model
- **Completion Tokens**: Output tokens generated by the model
- **Cached Tokens**: Tokens that were cached from previous requests
- **Reasoning Tokens**: Tokens used for internal reasoning (o1 models)
- **Total Tokens**: Sum of all token types

### Cost Calculation

- Real-time USD calculation based on current pricing
- Per-million-token pricing converted to actual usage
- Separate tracking for each cost component
- Grand total across all models used

### Session Persistence

- Costs accumulate throughout the application session
- Reset only when the application exits
- Survives role switches and conversation clears
- Tracks usage across multiple models simultaneously

## Command Aliases

Some commands have convenient aliases:

- `/cmd` → `/command`, `/terminal`
- `/configure` → `/config`
- `/exit` → `/quit`

## Error Handling

Commands include comprehensive error handling:

- Invalid command names show helpful suggestions
- Missing parameters display usage information
- API errors are gracefully handled and reported
- Configuration issues provide clear guidance

## Security Considerations

- File operations are restricted to the project directory
- Terminal commands include safety pattern validation
- API keys are never displayed in cost or review commands
- All user input is validated before processing

---

For more information about specific features, see the related documentation:

- [Configuration Guide](configuration.md)
- [Tools Reference](Tools.md)
- [Architecture Overview](architecture.md)
